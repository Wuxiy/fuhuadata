<div class="clearfix content shadow-out">
    <!--副导航-->
    <div class="nav-deputy shadow-out clearfix">
        #deputyNav(6)
        <ul class="breadcrumb pull-right">
            <li><span class="glyphicon glyphicon-map-marker"></span></li>
            <li><a href="">合作客户</a></li>
            <li class="active">{变量}</li>
        </ul>
    </div>
    <!--表格容器-->
    <div class="dashboard-wrapper">
        <div class="row">
            <!--导航-->
            #orderRequestNav(2)
            <div class="col-xs-10">
                <!--订舱出运要求-->
                <div class="panel panel-default view-HD-md">
                    <div class="panel-heading">
                        <div class="input-group panel-heading-btn pull-right col-xs-4">
                            <span class="input-group-addon" lang="zh">产品种类</span>
                            <select id="name" class="form-control"></select>
                        </div>
                        <h3 class="panel-title" lang="zh">
                            订舱出运要求
                        </h3>
                    </div>
                    <div class="panel-body panel-edit">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-xs-2" lang="zh">对船运公司要求</label>
                                <div class="col-xs-10">
                                    <textarea id="shippingAgentRequire" cols="3" class="form-control" placeholder="指定的船运公司，或者禁用的船运公司"  lang="zh"></textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="" class="control-label col-xs-2" lang="zh">装箱要求</label>
                                <div class="col-xs-10">
                                    <!--表格-->
                                    <table class="table table-condensed table-bordered table-striped text-right">
                                        <tbody>
                                        <tr>
                                            <td lang="zh">打托（缠膜）</td>
                                            <td class="text-left">
                                                <div class="col-xs-12">
                                                    <label class="checkbox-inline"><input name="fullyClose" type="checkbox" value="0"/>免熏蒸托盘</label>
                                                    <label class="checkbox-inline"><input name="fullyClose" type="checkbox" value="1"/>熏蒸托盘</label>
                                                    <label class="checkbox-inline"><input name="fullyClose" type="checkbox" value="2"/>塑料托盘</label>
                                                    <label class="checkbox-inline"><input name="fullyClose" type="checkbox" value="3"/>订制托盘</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td lang="zh">帖唛</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="postLabel" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">垫板</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="basePlate" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">纸板</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="paperboard" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">气囊</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="airSac" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">拉网</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="seine" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">紧固带</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="fasteningWith" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">抄条码</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="copyTheBarcode" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">美式门封</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="theOrdinaryAmerican" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">护条</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="joint" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">护角</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="bead" type="checkbox" /></label>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td lang="zh">是否需要监装</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input name="inspectionOfStorage" type="checkbox" value="0"/>商检</label>
                                                </div>
                                                <div class="checkbox col-xs-3">
                                                    <label><input name="inspectionOfStorage" type="checkbox" value="1"/>法检</label>
                                                </div>
                                                <div class="col-xs-3">
                                                    <input id="inspectionOfStorage" type="text" class="form-control" placeholder="输入机构名称"/>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td lang="zh">吨桶是否铁丝固定</td>
                                            <td class="text-left">
                                                <div class="checkbox col-xs-3">
                                                    <label><input id="wireMeshFixedGuard" type="checkbox" /></label>
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-xs-2" lang="zh">出运货物</label>
                                    <div class="radio col-xs-1">
                                        <label ><input type="radio" name="goodsType" value="0" /><span lang="zh">普货</span</label>
                                    </div>
                                    <div class="radio col-xs-2">
                                        <label ><input type="radio" name="goodsType" value="1" /><span lang="zh">危险品</span></label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-xs-2"><span lang="zh">免箱期</span>（<span lang="zh">天</span>）</label>
                                    <div class="col-xs-2">
                                        <input id="mianxiangqi" class="form-control" type="text" value="" />
                                    </div>
                                    <label class="control-label col-xs-2"><span lang="zh">免堆期</span>（<span lang="zh">天</span>）</label>
                                    <div class="col-xs-2">
                                        <input id="miantuiqi" class="form-control" type="text" value="" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<input id="customerId" type="hidden" value='${customerId}'>
<script type="text/javascript" language="javascript" src="${request.contextPath}/lib/js/commons/common.js"></script>
<script type="text/javascript" language="javascript" src="${request.contextPath}/lib/js/commons/ajax.js"></script>
##<script type="text/javascript" language="javascript" src="${request.contextPath}/lib/js/customer/common.js"></script>
<script type="text/javascript" language="javascript" src="${request.contextPath}/lib/js/customer/customerOrderRequire.js"></script>
<script>
    $(function () {
        init();
        var orderData;                                 //定义获取的数据
        var optionNames = '';                          //定义产品种类集合
        //var optionTypes = '';                         //定义单据类型集合
        var newData = [];                              //定义新数据
        var name = $('#name');                         //定义产品种类select控件
        var documentaryType = $('documentaryType');    //定义单据类型select控件
        //为获取的数据赋值
        jQuery.ajax({
            url:'${request.contextPath}/customerBaseInfoOrderRequire/getTransportRequireList',
            type:'POST',
            data:GetRequest(),
            async:false
        }).done(function (result) {
            orderData = result.data;
        }).fail(function(result){
            console.log('error:'+result.status);
        });
        //console.log(orderData);
        //为新数据、产品种类、单据类型赋值
        jQuery.each(orderData,function (n,item) {
            var obj = {};
            obj.name = item.name;
            //obj.documentaryType = item.documentaryType;
            obj.productId = item.productId;
            obj.shippingAgentRequire = item.shippingAgentRequire;
            obj.packageRequire = item.packageRequire;
            obj.goodsType = item.goodsType;
            obj.mianxiangqi = item.mianxiangqi;
            obj.miantuiqi = item.miantuiqi;
            optionNames += '<option value="'+item.productId+'">'+item.name+'</option>';
            newData.push(obj);
        });
        //渲染产品种类select
        name.append(optionNames);
        //渲染单据类型select
        var obj = {};
        obj.productId = name.val();
        screenData(obj,newData,customerTransportRequire);
        $(document).on('change.screen','#name',function () {
            var obj = {};
            obj.productId = name.val();
            screenData(obj,newData,customerTransportRequire);
        });

//        $(document).('click.exclusion','[name="coo"]',function () {
//            var allCh = $('input').filter('[name="coo"]');
//            var theEl = $(this);
//            allCh.prop('checked',false);
//            theEl.prop('checked',true);
//        })
    })
</script>

