<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
        "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="FREIGHTFORWARDINGWAREHOUSERELATION">
   	<typeAlias alias="FreightforwardingWarehouseRelation" type="com.fuhuadata.domain.FreightforwardingWarehouseRelation"/>
   	<typeAlias alias="QueryFreightforwardingWarehouseRelation" type="com.fuhuadata.domain.query.QueryFreightforwardingWarehouseRelation"/>
	
	<resultMap id="FREIGHTFORWARDINGWAREHOUSERELATION-MAP" class="FreightforwardingWarehouseRelation">
					<result property="id" column="id" jdbcType="INT" javaType="java.lang.Integer" />
								<result property="freightforwardingId" column="freightforwarding_id" jdbcType="VARCHAR" javaType="java.lang.String" />
								<result property="warehouseId" column="warehouse_id" jdbcType="VARCHAR" javaType="java.lang.String" />
														</resultMap>
	
	<sql id="PAGE-COMMON">	
		<dynamic prepend=" WHERE ">
				<isNotNull prepend=" AND " property="id">
			id = #id#
		</isNotNull>
				<isNotNull prepend=" AND " property="freightforwardingId">
			freightforwarding_id = #freightforwardingId#
		</isNotNull>
				<isNotNull prepend=" AND " property="warehouseId">
			warehouse_id = #warehouseId#
		</isNotNull>
				</dynamic>
	</sql>
	
	<sql id="QUERY-COMMON">	
		<dynamic prepend=" WHERE ">
				<isNotNull prepend=" AND " property="id">
			id = #id#
		</isNotNull>
				<isNotNull prepend=" AND " property="freightforwardingId">
			freightforwarding_id = #freightforwardingId#
		</isNotNull>
				<isNotNull prepend=" AND " property="warehouseId">
			warehouse_id = #warehouseId#
		</isNotNull>
				</dynamic>
	</sql>
	
	<insert id="ADD" parameterClass="FreightforwardingWarehouseRelation">
		INSERT INTO 
		freightforwarding_warehouse_relation(id,freightforwarding_id,warehouse_id) 
		VALUES(#id#,#freightforwardingId#,#warehouseId#)
		<selectKey resultClass="int" keyProperty="id">
			SELECT @@IDENTITY AS ID
		</selectKey>
	</insert>
	
	<update id="UPDATE" parameterClass="FreightforwardingWarehouseRelation">
		UPDATE freightforwarding_warehouse_relation 
		<dynamic prepend=" SET ">
						<isNotEmpty prepend=", " property="id">id=#id#</isNotEmpty>
						<isNotEmpty prepend=", " property="freightforwardingId">freightforwarding_id=#freightforwardingId#</isNotEmpty>
						<isNotEmpty prepend=", " property="warehouseId">warehouse_id=#warehouseId#</isNotEmpty>
					</dynamic>
		WHERE id=#id#
	</update>
	
	<delete id="DELETE-BY-ID" parameterClass="java.lang.Integer">
		<![CDATA[
			DELETE FROM freightforwarding_warehouse_relation WHERE id=#id#
		]]>
	</delete>
	
	<select id="GET-ALL" resultMap="FREIGHTFORWARDINGWAREHOUSERELATION-MAP">
		<![CDATA[
			SELECT * FROM freightforwarding_warehouse_relation
		]]>
	</select>
	
	<select id="GET-BY-QUERY" resultMap="FREIGHTFORWARDINGWAREHOUSERELATION-MAP" parameterClass="QueryFreightforwardingWarehouseRelation">
		<![CDATA[
			SELECT * FROM freightforwarding_warehouse_relation
		]]>
		<isParameterPresent>   
            <include refid="QUERY-COMMON" />   
        </isParameterPresent>
	</select>
	
	<select id="GET-BY-ID" resultMap="FREIGHTFORWARDINGWAREHOUSERELATION-MAP" parameterClass="java.lang.Integer">
		<![CDATA[
			SELECT * FROM freightforwarding_warehouse_relation	WHERE id=#id#
		]]>
	</select>
	
	<select id="GET-PAGE" resultMap="FREIGHTFORWARDINGWAREHOUSERELATION-MAP" parameterClass="QueryFreightforwardingWarehouseRelation">
		<![CDATA[
			SELECT * FROM freightforwarding_warehouse_relation 
		]]>
		<isParameterPresent>   
            <include refid="PAGE-COMMON" />   
        </isParameterPresent>
		LIMIT #startRow#,#pageSize#
	</select>
	
	<select id="COUNT" resultClass="java.lang.Integer" parameterClass="QueryFreightforwardingWarehouseRelation">
		<![CDATA[
			SELECT COUNT(id) FROM freightforwarding_warehouse_relation
		]]>
		<isParameterPresent>   
            <include refid="PAGE-COMMON" />   
        </isParameterPresent>
	</select>
</sqlMap>