<div class="clearfix content shadow-out">
    <!--副导航-->
    <div class="nav-deputy shadow-out clearfix">
        #breadcrumb()
    </div>
    <!--表格容器-->
    <div class="dashboard-wrapper">
        <div class="row">
            <div class="col-xs-10">
                <!--单据要求-->
                <div id="billRequiire" class="panel panel-default view-HD-lg">
                    <div class="panel-heading">
                        <div class="btn-group panel-heading-btn pull-right">
                            <a class="btn btn-xs btn-default hidden" data-view="editHide" id="back">返回</a>
                            <button id="edit" data-btn="edit" data-view="editHide" class="btn btn-xs btn-primary panel-heading-btn pull-right hidden" type="button" lang="zh">
                                编辑
                            </button>

                        </div>
                        <div class="but-group btn-group btn-group-xs panel-heading-btn pull-right">
                            <button id="cancel" data-btn="cancel" data-view="editView" type="button" class="btn btn-xs btn-default hidden" type="button" lang="zh">取消</button>
                            <button id="save" data-btn="save" data-view="editView" type="button" class="btn btn-primary hidden" lang="zh">保存</button>
                        </div>
                        <h3 class="panel-title" lang="zh">
                            单据要求
                        </h3>
                    </div>
                    <div class="panel-body panel-edit">
                        <div class="form-group">
                            <div class="input-group col-xs-3 ">
                                <span class="input-group-addon" lang="zh">单据类型</span>
                                <select id="documentaryType" class="form-control" data-control="on" disabled>
                                    <option value="0">信用证条款单据</option>
                                    <option value="1">非信用证条款单据</option>
                                </select>
                            </div>
                        </div>
                        <table class="table table-condensed table-bordered table-striped text-right">
                            <tbody>
                            <tr>
                                <td class="col-xs-4" lang="zh"><label for="">出具海运提单</label></td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="oceanBillOfLading" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-xs-4" lang="zh">出具货运提单</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="freightForwardingBill" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td lang="zh">是否需要发票</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="invoice" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要箱单</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="packingList" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要质检单</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-2">
                                        <label><input id="qualityTestingReport" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                    <div class="col-xs-4">
                                        <input id="reportCompanyTitle" type="text" class="form-control isdisabled" placeholder="请输入公司抬头" disabled>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td lang="zh">是否需要保单</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="guaranteeSlip" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否出COO</td>
                                <td class="text-left">
                                    <div class=" col-xs-2">
                                        <label class="checkbox-inline"><input name="coo" type="checkbox" value="1" data-control="on" disabled/>商检局</label>
                                    </div>
                                    <div class="col-xs-10">
                                        <label class="radio-inline"><input class="contentRadio " name="cooContent" type="radio" value="a" disabled/>FORM A</label>
                                        <label class="radio-inline"><input class="contentRadio " name="cooContent" type="radio" value="e" disabled/>FORM E</label>
                                        <label class="radio-inline"><input class="contentRadio " name="cooContent" type="radio" value="p" disabled/>FORM P</label>
                                        <label class="radio-inline"><input class="contentRadio " name="cooContent" type="radio" value="au" disabled/>FORM AU</label>
                                    </div>
                                    <div class="col-xs-12">
                                        <label class="checkbox-inline" style="padding-top: 3px"><input name="coo" type="checkbox" value="2" data-control="on" disabled/>贸促会</label>
                                    </div>
                                    <div class="col-xs-2">
                                        <label class="checkbox-inline" style="padding-top: 3px"><input name="coo" type="checkbox" value="3"  data-control="on" disabled/>普通</label>
                                    </div>
                                    <div class="col-xs-4">
                                        <input id="cooContentText" name="cooContent" class="form-control contentText" type="text" placeholder="请输入公司抬头" disabled/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td lang="zh">是否需要危包证</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="dangerousCertificate" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要受益人证明</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="beneficiaryCertification" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否出熏蒸证书</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="fumigationCertificate" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要MSDS</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="msds" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">提单是否电放</td>
                                <td class="form-group text-left">
                                    <div class="checkbox col-xs-2">
                                        <label><input name="telexRelease" type="checkbox" value="1" data-control="on" disabled/><span lang="zh">直接电放</span></label>
                                    </div>
                                    <div class="checkbox col-xs-3">
                                        <label><input name="telexRelease" type="checkbox" value="2" data-control="on" disabled/><span lang="zh">正本出后电放</span></label>
                                    </div>
                                    <div class="col-xs-4"><input id="releaseDestination" class="form-control" type="text" value="" placeholder="输入放单目的港" lang="zh" disabled/></div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要银行交单</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="bankBill" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要做第三方检测，并出具检测报告</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="examiningReport" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要Packing Declaration</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="packingDeclaration" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td lang="zh">是否需要Import Container Weight Declaration</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="importContainerWeightDeclaration" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>

                            </tr>
                            <tr>
                                <td>是否需要Manufacturer's Certificate</td>
                                <td class="text-left">
                                    <div class="checkbox col-xs-3">
                                        <label><input id="manufacturerCertificate" type="checkbox" data-control="on" disabled/></label>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-xs-2" lang="zh">其他单据要求</label>
                                <div class="col-xs-10">
                                    <textarea id="otherDocumentaryRequire" class="form-control" data-control="on" rows="3" placeholder="多个单据请以（、）隔开" lang="zh" disabled></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-2 col-xs-offset-2"><a class="btn btn-block btn-default hidden" type="button" id="before">上一步</a></div>
                <div class="col-xs-2 col-xs-offset-1"><a class="btn btn-block btn-primary hidden" type="button" id="next">下一步</a></div>
                <div class="col-xs-2 col-xs-offset-2"><a class="btn btn-block btn-default hidden" type="button" id="previous">上一步</a></div>
                <div class="col-xs-2 col-xs-offset-1"><a class="btn btn-block btn-primary hidden" type="button" id="down">下一步</a></div>
            </div>
        </div>
    </div>
</div>

<h3 id="sTitle" class="hidden">单据要求</h3>
<input id="businessProductId" type="hidden" value="$!{businessProductId}"> <!--编号-->
<input id="orderId" type="hidden" value="$!{orderId}">
<input id="customerId" type="hidden" value="$!{customerId}">
<input id="productRequireId" type="hidden" value="$!{productRequireId}">
<input id="editId" type="hidden" value="$!{edit}">

<script type="text/javascript" src="${request.contextPath}/lib/js/commons/commons.js"></script>
<script type="text/javascript">
    var id = $('#businessProductId').val();
    var productRequireId = $('#productRequireId').val();
    var orderId = $('#orderId').val();
    var customerId = $('#customerId').val();
    var editId = $('#editId').val();
    console.log(productRequireId);
    console.log(id);

    var bInfo = new CRM.module.Panel('#billRequiire');
    bInfo.startEdit();
    bInfo.startSave();
    bInfo.startCancel();


    if(id!=''){
        jQuery.ajax({
            url:basePath + '/businessProduct/getDocumentary?businessProductId=' + id,
            type:'POST',
            success:function(result){
                if(result.documentaryRequire!=undefined){
                    var documentaryRequire = result.documentaryRequire;
                    if(documentaryRequire.reportCompanyTitle!=undefined){
                        $('#reportCompanyTitle').val(documentaryRequire.reportCompanyTitle);
                    }
                    if(documentaryRequire.releaseDestination!=undefined){
                        $('#releaseDestination').val(documentaryRequire.releaseDestination);
                    }
                    if(documentaryRequire.oceanBillOfLading!=undefined&&documentaryRequire.oceanBillOfLading == 1){
                        $('#oceanBillOfLading').attr('checked',true);
                    }
                    if(documentaryRequire.freightForwardingBill!=undefined&&documentaryRequire.freightForwardingBill == 1){
                        $('#freightForwardingBill').attr('checked',true);
                    }
                    if(documentaryRequire.invoice!=undefined&&documentaryRequire.invoice == 1){
                        $('#invoice').attr('checked',true);
                    }
                    if(documentaryRequire.packingList!=undefined&&documentaryRequire.packingList == 1){
                        $('#packingList').attr('checked',true);
                    }
                    if(documentaryRequire.qualityTestingReport!=undefined&&documentaryRequire.qualityTestingReport == 1){
                        $('#qualityTestingReport').attr('checked',true);
                        $('#reportCompanyTitle').attr('data-control','');
                    }
                    if(documentaryRequire.guaranteeSlip!=undefined&&documentaryRequire.guaranteeSlip == 1){
                        $('#guaranteeSlip').attr('checked',true);
                    }
                    if(documentaryRequire.dangerousCertificate!=undefined&&documentaryRequire.dangerousCertificate == 1){
                        $('#dangerousCertificate').attr('checked',true);
                    }
                    if(documentaryRequire.beneficiaryCertification!=undefined&&documentaryRequire.beneficiaryCertification == 1){
                        $('#beneficiaryCertification').attr('checked',true);
                    }
                    if(documentaryRequire.fumigationCertificate!=undefined&&documentaryRequire.fumigationCertificate == 1){
                        $('#fumigationCertificate').attr('checked',true);
                    }
                    if(documentaryRequire.msds!=undefined&&documentaryRequire.msds == 1){
                        $('#msds').attr('checked',true);
                    }
                    if(documentaryRequire.bankBill!=undefined&&documentaryRequire.bankBill == 1){
                        $('#bankBill').attr('checked',true);
                    }
                    if(documentaryRequire.examiningReport!=undefined&&documentaryRequire.examiningReport == 1){
                        $('#examiningReport').attr('checked',true);
                    }
                    if(documentaryRequire.packingDeclaration!=undefined&&documentaryRequire.packingDeclaration == 1){
                        $('#packingDeclaration').attr('checked',true);
                    }
                    if(documentaryRequire.importContainerWeightDeclaration!=undefined&&documentaryRequire.importContainerWeightDeclaration == 1){
                        $('#importContainerWeightDeclaration').attr('checked',true);
                    }
                    if(documentaryRequire.manufacturerCertificate!=undefined&&documentaryRequire.manufacturerCertificate == 1){
                        $('#manufacturerCertificate').attr('checked',true);
                    }
                    if(documentaryRequire.coo!=undefined){
                        var coo = documentaryRequire.coo;
                        if(coo == 0){
                            $('input[name="coo"]').attr('checked',false);
                        }
                        $('input[name="coo"]').each(function(){
                            var val = $(this).val();
                            if(val == coo){
                                $(this).attr('checked',true);
                            }
                        })
                    }
                    if(documentaryRequire.telexRelease!=undefined){
                        var telexRelease = documentaryRequire.telexRelease;
                        if(telexRelease == 0){
                            $('input[name="telexRelease"]').attr('checked',false);
                        }
                        $('input[name="telexRelease"]').each(function(){
                            var val = $(this).val();
                            if(val == telexRelease){
                                $(this).attr('checked',true);
                                $('#releaseDestination').attr('data-control','on');
                            }
                        })
                    }
                    if(documentaryRequire.cooContent!=undefined){
                        var cooContent = documentaryRequire.cooContent;
                        $.each(cooContent,function(index,value){
                            $('.contentRadio').each(function(){
                                if($(this).val() == value){
                                    $(this).prop('checked',true);
                                }else{
                                    $('#cooContentText').val(cooContent);
                                }
                            })
                        })
                    }
                }
                if(result.documentaryType!=undefined){
                    $('#documentaryType').val(result.documentaryType);
                }
                if(result.otherDocumentaryRequire!=undefined){
                    $('#otherDocumentaryRequire').val(result.otherDocumentaryRequire);
                }
            }
        })
    }

    if(editId == 0){
        $('#before').removeClass('hidden');
        $('#next').removeClass('hidden');
        $('[data-control="on"]').attr('disabled',false);
    }

    if(editId == 1){
        $('#back').removeClass('hidden');
        $('#edit').removeClass('hidden');
    }

    if(editId == 2){
        $('#previous').removeClass('hidden');
        $('#down').removeClass('hidden');
    }
    //editId=0,id!='',新增;eidtId=1,id!='',列表进入查看详情;editId=2,id!='',客户信息表进入查看详情

        /*if(editId == 1&&id!=''){
            $('#back').removeClass('hidden');
            $('#edit').removeClass('hidden');

            jQuery.ajax({
                url:basePath + '/businessProduct/getDocumentary?businessProductId=' + id,
                type:'POST',
                success:function(result){
                    if(result.documentaryRequire!=undefined){
                        var documentaryRequire = result.documentaryRequire;
                        if(documentaryRequire.reportCompanyTitle!=undefined){
                            $('#reportCompanyTitle').val(documentaryRequire.reportCompanyTitle);
                        }
                        if(documentaryRequire.releaseDestination!=undefined){
                            $('#releaseDestination').val(documentaryRequire.releaseDestination);
                        }
                        if(documentaryRequire.oceanBillOfLading!=undefined&&documentaryRequire.oceanBillOfLading == 1){
                            $('#oceanBillOfLading').attr('checked',true);
                        }
                        if(documentaryRequire.freightForwardingBill!=undefined&&documentaryRequire.freightForwardingBill == 1){
                            $('#freightForwardingBill').attr('checked',true);
                        }
                        if(documentaryRequire.invoice!=undefined&&documentaryRequire.invoice == 1){
                            $('#invoice').attr('checked',true);
                        }
                        if(documentaryRequire.packingList!=undefined&&documentaryRequire.packingList == 1){
                            $('#packingList').attr('checked',true);
                        }
                        if(documentaryRequire.qualityTestingReport!=undefined&&documentaryRequire.qualityTestingReport == 1){
                            $('#qualityTestingReport').attr('checked',true);
                        }
                        if(documentaryRequire.guaranteeSlip!=undefined&&documentaryRequire.guaranteeSlip == 1){
                            $('#guaranteeSlip').attr('checked',true);
                        }
                        if(documentaryRequire.dangerousCertificate!=undefined&&documentaryRequire.dangerousCertificate == 1){
                            $('#dangerousCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.beneficiaryCertification!=undefined&&documentaryRequire.beneficiaryCertification == 1){
                            $('#beneficiaryCertification').attr('checked',true);
                        }
                        if(documentaryRequire.fumigationCertificate!=undefined&&documentaryRequire.fumigationCertificate == 1){
                            $('#fumigationCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.msds!=undefined&&documentaryRequire.msds == 1){
                            $('#msds').attr('checked',true);
                        }
                        if(documentaryRequire.bankBill!=undefined&&documentaryRequire.bankBill == 1){
                            $('#bankBill').attr('checked',true);
                        }
                        if(documentaryRequire.examiningReport!=undefined&&documentaryRequire.examiningReport == 1){
                            $('#examiningReport').attr('checked',true);
                        }
                        if(documentaryRequire.packingDeclaration!=undefined&&documentaryRequire.packingDeclaration == 1){
                            $('#packingDeclaration').attr('checked',true);
                        }
                        if(documentaryRequire.importContainerWeightDeclaration!=undefined&&documentaryRequire.importContainerWeightDeclaration == 1){
                            $('#importContainerWeightDeclaration').attr('checked',true);
                        }
                        if(documentaryRequire.manufacturerCertificate!=undefined&&documentaryRequire.manufacturerCertificate == 1){
                            $('#manufacturerCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.coo!=undefined){
                            var coo = documentaryRequire.coo;
                            if(coo == 0){
                                $('input[name="coo"]').attr('checked',false);
                            }
                            $('input[name="coo"]').each(function(){
                                var val = $(this).val();
                                if(val == coo){
                                    $(this).attr('checked',true);
                                }
                            })
                        }
                        if(documentaryRequire.telexRelease!=undefined){
                            var telexRelease = documentaryRequire.telexRelease;
                            if(telexRelease == 0){
                                $('input[name="telexRelease"]').attr('checked',false);
                            }
                            $('input[name="telexRelease"]').each(function(){
                                var val = $(this).val();
                                if(val == telexRelease){
                                    $(this).attr('checked',true);
                                }
                            })
                        }
                        if(documentaryRequire.cooContent!=undefined){
                            var cooContent = documentaryRequire.cooContent;
                            $.each(cooContent,function(index,value){
                                $('.contentRadio').each(function(){
                                    if($(this).val() == value){
                                        $(this).prop('checked',true);
                                    }else{
                                        $('#cooContentText').val(cooContent);
                                    }
                                })
                            })
                        }
                    }
                    if(result.documentaryType!=undefined){
                        $('#documentaryType').val(result.documentaryType);
                    }
                    if(result.otherDocumentaryRequire!=undefined){
                        $('#otherDocumentaryRequire').val(result.otherDocumentaryRequire);
                    }
                }
            })
        }else if(editId == 0&&id !=''){
            if(id == ''){
                $('#before').removeClass('hidden');
                $('#next').removeClass('hidden');
                $('[data-control="on"]').attr('disabled',false);
            }
            if(id != ''){
                $('#before').removeClass('hidden');
                $('#next').removeClass('hidden');
                $('[data-control="on"]').attr('disabled',false);

                $('#back').removeClass('hidden');
                $('#edit').removeClass('hidden');

                jQuery.ajax({
                    url:basePath + '/businessProduct/getDocumentary?businessProductId=' + id,
                    type:'POST',
                    success:function(result){
                        if(result.documentaryRequire!=undefined){
                            var documentaryRequire = result.documentaryRequire;
                            if(documentaryRequire.reportCompanyTitle!=undefined){
                                $('#reportCompanyTitle').val(documentaryRequire.reportCompanyTitle);
                            }
                            if(documentaryRequire.releaseDestination!=undefined){
                                $('#releaseDestination').val(documentaryRequire.releaseDestination);
                            }
                            if(documentaryRequire.oceanBillOfLading!=undefined&&documentaryRequire.oceanBillOfLading == 1){
                                $('#oceanBillOfLading').attr('checked',true);
                            }
                            if(documentaryRequire.freightForwardingBill!=undefined&&documentaryRequire.freightForwardingBill == 1){
                                $('#freightForwardingBill').attr('checked',true);
                            }
                            if(documentaryRequire.invoice!=undefined&&documentaryRequire.invoice == 1){
                                $('#invoice').attr('checked',true);
                            }
                            if(documentaryRequire.packingList!=undefined&&documentaryRequire.packingList == 1){
                                $('#packingList').attr('checked',true);
                            }
                            if(documentaryRequire.qualityTestingReport!=undefined&&documentaryRequire.qualityTestingReport == 1){
                                $('#qualityTestingReport').attr('checked',true);
                            }
                            if(documentaryRequire.guaranteeSlip!=undefined&&documentaryRequire.guaranteeSlip == 1){
                                $('#guaranteeSlip').attr('checked',true);
                            }
                            if(documentaryRequire.dangerousCertificate!=undefined&&documentaryRequire.dangerousCertificate == 1){
                                $('#dangerousCertificate').attr('checked',true);
                            }
                            if(documentaryRequire.beneficiaryCertification!=undefined&&documentaryRequire.beneficiaryCertification == 1){
                                $('#beneficiaryCertification').attr('checked',true);
                            }
                            if(documentaryRequire.fumigationCertificate!=undefined&&documentaryRequire.fumigationCertificate == 1){
                                $('#fumigationCertificate').attr('checked',true);
                            }
                            if(documentaryRequire.msds!=undefined&&documentaryRequire.msds == 1){
                                $('#msds').attr('checked',true);
                            }
                            if(documentaryRequire.bankBill!=undefined&&documentaryRequire.bankBill == 1){
                                $('#bankBill').attr('checked',true);
                            }
                            if(documentaryRequire.examiningReport!=undefined&&documentaryRequire.examiningReport == 1){
                                $('#examiningReport').attr('checked',true);
                            }
                            if(documentaryRequire.packingDeclaration!=undefined&&documentaryRequire.packingDeclaration == 1){
                                $('#packingDeclaration').attr('checked',true);
                            }
                            if(documentaryRequire.importContainerWeightDeclaration!=undefined&&documentaryRequire.importContainerWeightDeclaration == 1){
                                $('#importContainerWeightDeclaration').attr('checked',true);
                            }
                            if(documentaryRequire.manufacturerCertificate!=undefined&&documentaryRequire.manufacturerCertificate == 1){
                                $('#manufacturerCertificate').attr('checked',true);
                            }
                            if(documentaryRequire.coo!=undefined){
                                var coo = documentaryRequire.coo;
                                if(coo == 0){
                                    $('input[name="coo"]').attr('checked',false);
                                }
                                $('input[name="coo"]').each(function(){
                                    var val = $(this).val();
                                    if(val == coo){
                                        $(this).attr('checked',true);
                                    }
                                })
                            }
                            if(documentaryRequire.telexRelease!=undefined){
                                var telexRelease = documentaryRequire.telexRelease;
                                if(telexRelease == 0){
                                    $('input[name="telexRelease"]').attr('checked',false);
                                }
                                $('input[name="telexRelease"]').each(function(){
                                    var val = $(this).val();
                                    if(val == telexRelease){
                                        $(this).attr('checked',true);
                                    }
                                })
                            }
                            if(documentaryRequire.cooContent!=undefined){
                                var cooContent = documentaryRequire.cooContent;
                                $.each(cooContent,function(index,value){
                                    $('.contentRadio').each(function(){
                                        if($(this).val() == value){
                                            $(this).prop('checked',true);
                                        }else{
                                            $('#cooContentText').val(cooContent);
                                        }
                                    })
                                })
                            }
                        }
                        if(result.documentaryType!=undefined){
                            $('#documentaryType').val(result.documentaryType);
                        }
                        if(result.otherDocumentaryRequire!=undefined){
                            $('#otherDocumentaryRequire').val(result.otherDocumentaryRequire);
                        }
                    }
                })
            }


        }else if(editId == 2&&id !=''){
            jQuery.ajax({
                url:basePath + '/businessProduct/getDocumentary?businessProductId=' + id,
                type:'POST',
                success:function(result){
                    if(result.documentaryRequire!=undefined){
                        var documentaryRequire = result.documentaryRequire;
                        if(documentaryRequire.reportCompanyTitle!=undefined){
                            $('#reportCompanyTitle').val(documentaryRequire.reportCompanyTitle);
                        }
                        if(documentaryRequire.releaseDestination!=undefined){
                            $('#releaseDestination').val(documentaryRequire.releaseDestination);
                        }
                        if(documentaryRequire.oceanBillOfLading!=undefined&&documentaryRequire.oceanBillOfLading == 1){
                            $('#oceanBillOfLading').attr('checked',true);
                        }
                        if(documentaryRequire.freightForwardingBill!=undefined&&documentaryRequire.freightForwardingBill == 1){
                            $('#freightForwardingBill').attr('checked',true);
                        }
                        if(documentaryRequire.invoice!=undefined&&documentaryRequire.invoice == 1){
                            $('#invoice').attr('checked',true);
                        }
                        if(documentaryRequire.packingList!=undefined&&documentaryRequire.packingList == 1){
                            $('#packingList').attr('checked',true);
                        }
                        if(documentaryRequire.qualityTestingReport!=undefined&&documentaryRequire.qualityTestingReport == 1){
                            $('#qualityTestingReport').attr('checked',true);
                        }
                        if(documentaryRequire.guaranteeSlip!=undefined&&documentaryRequire.guaranteeSlip == 1){
                            $('#guaranteeSlip').attr('checked',true);
                        }
                        if(documentaryRequire.dangerousCertificate!=undefined&&documentaryRequire.dangerousCertificate == 1){
                            $('#dangerousCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.beneficiaryCertification!=undefined&&documentaryRequire.beneficiaryCertification == 1){
                            $('#beneficiaryCertification').attr('checked',true);
                        }
                        if(documentaryRequire.fumigationCertificate!=undefined&&documentaryRequire.fumigationCertificate == 1){
                            $('#fumigationCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.msds!=undefined&&documentaryRequire.msds == 1){
                            $('#msds').attr('checked',true);
                        }
                        if(documentaryRequire.bankBill!=undefined&&documentaryRequire.bankBill == 1){
                            $('#bankBill').attr('checked',true);
                        }
                        if(documentaryRequire.examiningReport!=undefined&&documentaryRequire.examiningReport == 1){
                            $('#examiningReport').attr('checked',true);
                        }
                        if(documentaryRequire.packingDeclaration!=undefined&&documentaryRequire.packingDeclaration == 1){
                            $('#packingDeclaration').attr('checked',true);
                        }
                        if(documentaryRequire.importContainerWeightDeclaration!=undefined&&documentaryRequire.importContainerWeightDeclaration == 1){
                            $('#importContainerWeightDeclaration').attr('checked',true);
                        }
                        if(documentaryRequire.manufacturerCertificate!=undefined&&documentaryRequire.manufacturerCertificate == 1){
                            $('#manufacturerCertificate').attr('checked',true);
                        }
                        if(documentaryRequire.coo!=undefined){
                            var coo = documentaryRequire.coo;
                            if(coo == 0){
                                $('input[name="coo"]').attr('checked',false);
                            }
                            $('input[name="coo"]').each(function(){
                                var val = $(this).val();
                                if(val == coo){
                                    $(this).attr('checked',true);
                                }
                            })
                        }
                        if(documentaryRequire.telexRelease!=undefined){
                            var telexRelease = documentaryRequire.telexRelease;
                            if(telexRelease == 0){
                                $('input[name="telexRelease"]').attr('checked',false);
                            }
                            $('input[name="telexRelease"]').each(function(){
                                var val = $(this).val();
                                if(val == telexRelease){
                                    $(this).attr('checked',true);
                                }
                            })
                        }
                        if(documentaryRequire.cooContent!=undefined){
                            var cooContent = documentaryRequire.cooContent;
                            $.each(cooContent,function(index,value){
                                $('.contentRadio').each(function(){
                                    if($(this).val() == value){
                                        $(this).prop('checked',true);
                                    }else{
                                        $('#cooContentText').val(cooContent);
                                    }
                                })
                            })
                        }
                    }
                    if(result.documentaryType!=undefined){
                        $('#documentaryType').val(result.documentaryType);
                    }
                    if(result.otherDocumentaryRequire!=undefined){
                        $('#otherDocumentaryRequire').val(result.otherDocumentaryRequire);
                    }
                }
            })
        }*/

        //下一步function
        $('#next').click(function(){
                jQuery.ajax({
                    url:basePath + '/businessProduct/saveDocumentaryOrPacking',
                    type:'POST',
                    data:getdata(),
                    /*contentType:"application/json",*/
                    success:function(result) {
                        console.log(result);
                        if (result == true) {
                            alert('添加成功！');
                             window.location.href = basePath + '/businessProduct/intoPackageRequire?businessProductId=' + id + '&orderId=' + orderId + '&customerId=' + customerId + '&productRequireId=' + productRequireId + '&edit=' + editId;
                        } else {
                            alert('添加失败！');
                        }
                    }
                })

        })

    function getdata() {
        var documentaryRequire = {
            'oceanBillOfLading':checked($('#oceanBillOfLading')),
            'freightForwardingBill':checked($('#freightForwardingBill')),
            'invoice':checked($('#invoice')),
            'packingList':checked($('#packingList')),
            'qualityTestingReport':checked($('#qualityTestingReport')),
            'reportCompanyTitle':$('#oceanBillOfLading').val(),
            'guaranteeSlip':checked($('#guaranteeSlip')),
            'coo':getcoo(),
            'cooContent':getcooContent(),
            'dangerousCertificate':checked($('#dangerousCertificate')),
            'beneficiaryCertification':checked($('#beneficiaryCertification')),
            'fumigationCertificate':checked($('#fumigationCertificate')),
            'msds':checked($('#msds')),
            'bankBill':checked($('#bankBill')),
            'examiningReport':checked($('#examiningReport')),
            'packingDeclaration':checked($('#packingDeclaration')),
            'importContainerWeightDeclaration':checked($('#importContainerWeightDeclaration')),
            'manufacturerCertificate':checked($('#manufacturerCertificate')),
            'releaseDestination':$('#releaseDestination').val(),
            'telexRelease':gettelexRelease(),
        }
        var data = {
            'id':$('#businessProductId').val(),
            "documentaryRequire":JSON.stringify(documentaryRequire),
            "documentaryType":$('#documentaryType').val(),
            "otherDocumentaryRequire":$('#otherDocumentaryRequire').val()
        }
        console.log(data);
        return data;
    }

    //checked选择
    function checked(id) {
        var i = id.attr('checked')?1 : 0;
        return i;
    }

    function gettelexRelease(){
        var telexRelease;
        if($('input[name="telexRelease"]:checked').length==0){
            telexRelease = 0;
        }else{
            telexRelease = $('input[name="telexRelease"]:checked').val();
        }
        return telexRelease;
    }

    function getcoo() {
        var coo;
        if($('input[name="coo"]:checked').length==0){
            coo = 0;
        }else{
            coo = $('input[name="coo"]:checked').val();
        }
        return coo;
    }

    function getcooContent() {
        var conContent;
        if($('input[name="coo"]:checked').val() == '1'){
            conContent = $('input[class="contentRadio"]:checked').val();
        }else if($('input[name="coo"]:checked').val() == '3'){
            conContent = $('#cooContentText').val();
        }else{
            conContent = '';
        }
        return conContent;
    }


    //coo互斥
    $(document).on('click','input[name="coo"]',function(){
        $('input[name="coo"]').removeAttr('checked');
        $(this).prop('checked',true);
    })

    $('#qualityTestingReport').change(function(){
        if($(this).attr('checked')){
            $('#reportCompanyTitle').attr('disabled',false);
        }else{
            $('#reportCompanyTitle').attr('disabled',true);
            $('#reportCompanyTitle').attr('value','');
        }
    })

    $('input[name="telexRelease"]').change(function(){
        if($(this).attr('checked')){
            $('#releaseDestination').attr('disabled',false);
        }else{
            $('#releaseDestination').attr('disabled',true);
            $('#releaseDestination').attr('value','');
        }
    })

    $('input[name="coo"]').change(function(){
        var val = $(this).val();
        if(val == 1){
            $('.contentRadio').attr('disabled',false);
            $('.contentText').attr('disabled',true);
        }else if(val == 2){
            $('.contentRadio').attr('disabled',true);
            $('.contentRadio').attr('checked',false);
            $('.contentText').attr('disabled',true);
        }else if(val == 3){
            $('.contentRadio').attr('disabled',true);
            $('.contentRadio').attr('checked',false);
            $('.contentText').attr('disabled',false);
        }
    })

    $(document).on('click','input[name="telexRelease"]',function(){
        $('input[name="telexRelease"]').removeAttr('checked');
        $(this).prop('checked','checked');
    })

    $('#save').click(function(){
        jQuery.ajax({
            url:basePath + '/businessProduct/saveDocumentaryOrPacking',
            type:'POST',
            data:getdata(),
            /*contentType:"application/json",*/
            success:function(result){
                if(result == true){
                    alert('修改成功！');
                    location.reload();
                }else{
                    alert('修改失败！');
                }
            }
        })
    })

    $('#back').click(function(){
        window.location.href = basePath + '/businessOrder/intoOfferorOrder?orderId=' + orderId;
    })

    $('#before').click(function(){
        window.location.href = basePath + '/businessProduct/intoProductRequire?orderId=' + orderId + '&productRequireId=' + productRequireId + '&businessProductId=' + id + '&customerId=' + customerId + '&&edit=' + editId;
    })
</script>




